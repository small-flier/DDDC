{"version":3,"file":"openApp.js","sources":["common/openApp.js"],"sourcesContent":["/*\r\n\t创建在h5端全局悬浮引导用户下载app的功能，\r\n\t如不需要本功能直接移除配置文件uni-starter.config.js下的h5/openApp即可\r\n*/\r\n\r\nimport CONFIG from '../uni-starter.config.js';\r\n\r\nconst CONFIG_OPEN = CONFIG.h5.openApp || {};\r\n// 仅H5端添加\"打开APP\"\r\nexport default function() {\r\n\t// #ifdef H5\r\n\tif (!CONFIG_OPEN.openUrl) return;\r\n\r\n\tlet openLogo = CONFIG_OPEN.logo ?\r\n\t\t`<img src=\"${CONFIG_OPEN.logo}\" style=\"width: 2rem;height: 2rem;border-radius: 3px;\">` : '';\r\n\tlet openApp = document.createElement(\"div\");\r\n\topenApp.id = 'openApp';\r\n\topenApp.style =\r\n\t\t'position: fixed;background:#FFFFFF;box-shadow: #eeeeee 1px 1px 9px; ;top: 0;left: 0;right: 0;z-index: 999;width: 100%;height: 45px;display: flex;flex-direction: row;justify-content: space-between;align-items: center;box-sizing: border-box;padding: 0 0.5rem;'\r\n\topenApp.innerHTML = `\r\n\t\t<div style=\"display: flex;flex-direction: row;justify-content: flex-start;align-items: center;\">\r\n\t\t\t${openLogo}\r\n\t\t\t<div style=\"padding-left: 0.3rem;font-size: 12px;\">${CONFIG_OPEN.appname || ''}</div>\r\n\t\t</div>\r\n\t\t<div class=\"openBtn\" style=\"padding: 5px;font-size:12px;border-radius: 2px;border: 1px solid #007AFF;color: #007AFF;\">下载app</div>\r\n\t`;\r\n\tdocument.body.insertBefore(openApp, document.body.firstChild);\r\n\tdocument.body.style = 'height:calc(100% - 45px); margin-top:45px;';\r\n\topenApp.addEventListener('click', e => {\r\n\t\tvar target = e.target || e.srcElement;\r\n\t\tif (target.className.indexOf('openBtn') >= 0) {\r\n\t\t\twindow.location.href = CONFIG_OPEN.openUrl;\r\n\t\t}\r\n\t})\r\n\t//#endif\r\n}\r\n"],"names":["CONFIG"],"mappings":";;AAOoBA,kBAAAA,OAAO,GAAG,WAAW,CAAA;"}