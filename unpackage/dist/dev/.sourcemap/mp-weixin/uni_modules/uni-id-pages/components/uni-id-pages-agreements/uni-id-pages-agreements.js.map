{"version":3,"file":"uni-id-pages-agreements.js","sources":["uni_modules/uni-id-pages/components/uni-id-pages-agreements/uni-id-pages-agreements.vue","../../../../../HBuilderX.3.8.7.20230703/HBuilderX/plugins/uniapp-cli-vite/uniComponent:/QzovVXNlcnMvOTMxNTIvRGVza3RvcC_ovazovazovawvREREQy91bmlfbW9kdWxlcy91bmktaWQtcGFnZXMvY29tcG9uZW50cy91bmktaWQtcGFnZXMtYWdyZWVtZW50cy91bmktaWQtcGFnZXMtYWdyZWVtZW50cy52dWU"],"sourcesContent":["<template>\r\n\t<view class=\"root\" v-if=\"agreements.length\">\r\n\t\t<template v-if=\"needAgreements\">\r\n\t\t\t<checkbox-group @change=\"setAgree\">\r\n\t\t\t\t<label class=\"checkbox-box\">\r\n\t\t\t\t\t<checkbox :checked=\"isAgree\" style=\"transform: scale(0.5);margin-right: -6px;\" />\r\n\t\t\t\t\t<text class=\"text\">同意</text>\r\n\t\t\t\t</label>\r\n\t\t\t</checkbox-group>\r\n\t\t\t<view class=\"content\">\r\n\t\t\t\t<view class=\"item\" v-for=\"(agreement,index) in agreements\" :key=\"index\">\r\n\t\t\t\t\t<text class=\"agreement text\" @click=\"navigateTo(agreement)\">{{agreement.title}}</text>\r\n\t\t\t\t\t<text class=\"text and\" v-if=\"hasAnd(agreements,index)\" space=\"nbsp\"> 和 </text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</template>\r\n\t\t<!-- 弹出式 -->\r\n\t\t<uni-popup v-if=\"needAgreements||needPopupAgreements\" ref=\"popupAgreement\" type=\"center\">\r\n\t\t\t<uni-popup-dialog confirmText=\"同意\" @confirm=\"popupConfirm\">\r\n\t\t\t\t<view class=\"content\">\r\n\t\t\t\t\t<text class=\"text\">请先阅读并同意</text>\r\n\t\t\t\t\t<view class=\"item\" v-for=\"(agreement,index) in agreements\" :key=\"index\">\r\n\t\t\t\t\t\t<text class=\"agreement text\" @click=\"navigateTo(agreement)\">{{agreement.title}}</text>\r\n\t\t\t\t\t\t<text class=\"text and\" v-if=\"hasAnd(agreements,index)\" space=\"nbsp\"> 和 </text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</uni-popup-dialog>\r\n\t\t</uni-popup>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport config from '@/uni_modules/uni-id-pages/config.js'\r\n\tlet retryFun = ()=>console.log('为定义')\r\n\t/**\r\n\t\t* uni-id-pages-agreements \r\n\t\t* @description 用户服务协议和隐私政策条款组件\r\n\t\t* @property {String,Boolean} scope = [register|login]\t作用于哪种场景如：register 注册（包括登录并注册，如：微信登录、苹果登录、短信验证码登录）、login 登录。默认值为：register\r\n\t*/\r\n\texport default {\r\n\t\tname: \"uni-agreements\",\r\n\t\tcomputed: {\r\n\t\t\tagreements() {\r\n\t\t\t\tif(!config.agreements){\r\n\t\t\t\t\treturn []\r\n\t\t\t\t}\r\n\t\t\t\tlet {serviceUrl,privacyUrl} = config.agreements\r\n\t\t\t\treturn [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\turl:serviceUrl,\r\n\t\t\t\t\t\ttitle:\"用户服务协议\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\turl:privacyUrl,\r\n\t\t\t\t\t\ttitle:\"隐私政策条款\"\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t}\r\n\t\t},\r\n\t\tprops: {\r\n\t\t\tscope: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault(){\r\n\t\t\t\t\treturn 'register'\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tpopupConfirm(){\r\n\t\t\t\tthis.isAgree = true\r\n\t\t\t\tretryFun()\r\n\t\t\t\t// this.$emit('popupConfirm')\r\n\t\t\t},\r\n\t\t\tpopup(Fun){\r\n\t\t\t\tthis.needPopupAgreements = true\r\n\t\t\t\t// this.needAgreements = true\r\n\t\t\t\tthis.$nextTick(()=>{\r\n\t\t\t\t\tif(Fun){\r\n\t\t\t\t\t\tretryFun = Fun\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.$refs.popupAgreement.open()\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tnavigateTo({\r\n\t\t\t\turl,\r\n\t\t\t\ttitle\r\n\t\t\t}) {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '/uni_modules/uni-id-pages/pages/common/webview/webview?url=' + url + '&title=' + title,\r\n\t\t\t\t\tsuccess: res => {},\r\n\t\t\t\t\tfail: () => {},\r\n\t\t\t\t\tcomplete: () => {}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\thasAnd(agreements, index) {\r\n\t\t\t\treturn agreements.length - 1 > index\r\n\t\t\t},\r\n\t\t\tsetAgree(e) {\r\n\t\t\t\tthis.isAgree = !this.isAgree\r\n\t\t\t\tthis.$emit('setAgree', this.isAgree)\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\n\t\t\tthis.needAgreements = (config?.agreements?.scope || []).includes(this.scope)\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tisAgree: false,\r\n\t\t\t\tneedAgreements:true,\r\n\t\t\t\tneedPopupAgreements:false\r\n\t\t\t};\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t/* #ifndef APP-NVUE */\r\n\tview {\r\n\t\tdisplay: flex;\r\n\t\tbox-sizing: border-box;\r\n\t\tflex-direction: column;\r\n\t}\r\n\r\n\t/* #endif */\r\n\t.root {\r\n\t\tflex-direction: row;\r\n\t\talign-items: center;\r\n\t\tfont-size: 12px;\r\n\t\tcolor: #8a8f8b;\r\n\t}\r\n\r\n\t.checkbox-box ,.uni-label-pointer{\r\n\t\talign-items: center;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t}\r\n\r\n\t.item {\r\n\t\tflex-direction: row;\r\n\t}\r\n\t.text{\r\n\t\tline-height: 26px;\r\n\t}\r\n\t.agreement {\r\n\t\tcolor: #04498c;\r\n\t\tcursor: pointer;\r\n\t}\r\n\t\r\n\t.checkbox-box ::v-deep .uni-checkbox-input{\r\n\t\tborder-radius: 100%;\r\n\t}\r\n\r\n\t.checkbox-box ::v-deep .uni-checkbox-input.uni-checkbox-input-checked{\r\n\t\tborder-color: $uni-color-primary;\r\n\t\tcolor: #FFFFFF !important;\r\n\t\tbackground-color: $uni-color-primary;\r\n\t}\r\n\t\r\n\t.content{\r\n\t\tflex-wrap: wrap;\r\n\t\tflex-direction: row;\r\n\t}\n\t\n\t.root ::v-deep .uni-popup__error{\n\t\tcolor: #333333;\n\t}\r\n</style>\r\n","import Component from 'C:/Users/93152/Desktop/转转转/DDDC/uni_modules/uni-id-pages/components/uni-id-pages-agreements/uni-id-pages-agreements.vue'\nwx.createComponent(Component)"],"names":["uni","config"],"mappings":";;;AAiCC,IAAI,WAAW,MAAIA,cAAAA,MAAA,MAAA,OAAA,iGAAY,KAAK;AAMpC,MAAK,YAAU;AAAA,EACd,MAAM;AAAA,EACN,UAAU;AAAA,IACT,aAAa;AACZ,UAAG,CAACC,8BAAM,OAAC,YAAW;AACrB,eAAO,CAAC;AAAA,MACT;AACA,UAAI,EAAC,YAAW,WAAU,IAAIA,8BAAM,OAAC;AACrC,aAAO;AAAA,QACN;AAAA,UACC,KAAI;AAAA,UACJ,OAAM;AAAA,QACN;AAAA,QACD;AAAA,UACC,KAAI;AAAA,UACJ,OAAM;AAAA,QACP;AAAA,MACD;AAAA,IACD;AAAA,EACA;AAAA,EACD,OAAO;AAAA,IACN,OAAO;AAAA,MACN,MAAM;AAAA,MACN,UAAS;AACR,eAAO;AAAA,MACR;AAAA,IACA;AAAA,EACD;AAAA,EACD,SAAS;AAAA,IACR,eAAc;AACb,WAAK,UAAU;AACf,eAAS;AAAA,IAET;AAAA,IACD,MAAM,KAAI;AACT,WAAK,sBAAsB;AAE3B,WAAK,UAAU,MAAI;AAClB,YAAG,KAAI;AACN,qBAAW;AAAA,QACZ;AACA,aAAK,MAAM,eAAe,KAAK;AAAA,OAC/B;AAAA,IACD;AAAA,IACD,WAAW;AAAA,MACV;AAAA,MACA;AAAA,IACD,GAAG;AACFD,oBAAAA,MAAI,WAAW;AAAA,QACd,KAAK,gEAAgE,MAAM,YAAY;AAAA,QACvF,SAAS,SAAO;AAAA,QAAE;AAAA,QAClB,MAAM,MAAM;AAAA,QAAE;AAAA,QACd,UAAU,MAAM;AAAA,QAAC;AAAA,MAClB,CAAC;AAAA,IACD;AAAA,IACD,OAAO,YAAY,OAAO;AACzB,aAAO,WAAW,SAAS,IAAI;AAAA,IAC/B;AAAA,IACD,SAAS,GAAG;AACX,WAAK,UAAU,CAAC,KAAK;AACrB,WAAK,MAAM,YAAY,KAAK,OAAO;AAAA,IACpC;AAAA,EACA;AAAA,EACD,UAAU;;AACT,SAAK,oBAAkBC,yCAAAA,WAAAA,mBAAQ,eAARA,mBAAoB,UAAS,IAAI,SAAS,KAAK,KAAK;AAAA,EAC3E;AAAA,EACD,OAAO;AACN,WAAO;AAAA,MACN,SAAS;AAAA,MACT,gBAAe;AAAA,MACf,qBAAoB;AAAA;EAEtB;AACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/GD,GAAG,gBAAgB,SAAS;"}