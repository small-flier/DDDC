{"version":3,"file":"read-news-log.js","sources":["pages/ucenter/read-news-log/read-news-log.vue","../../../../../HBuilderX.3.8.7.20230703/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvdWNlbnRlci9yZWFkLW5ld3MtbG9nL3JlYWQtbmV3cy1sb2cudnVl"],"sourcesContent":["<template>\r\n\t<view class=\"container\">\n\t\t<unicloud-db ref=\"udb\" v-slot:default=\"{data, pagination, loading, hasMore, error}\" :where=\"udbWhere\"\r\n\t\t\tcollection=\"opendb-news-articles\" @load=\"isLoading == false\" @error=\"isLoading == false\"\n\t\t\tfield=\"title,_id\" :page-size=\"10\">\n\t\t\t<uni-list>\r\n\t\t\t\t<uni-list-item v-for=\"(item, index) in data\" :key=\"index\" :clickable=\"true\"\r\n\t\t\t\t\t@click=\"handleItemClick(item)\">\n\t\t\t\t\t<template v-slot:body>\n\t\t\t\t\t\t<view class=\"item\">\n\t\t\t\t\t\t\t<text>{{item.title}}</text>\n\t\t\t\t\t\t\t<uni-dateformat class=\"article-date\" :date=\"readNewsLog[index].last_time\" format=\"yyyy-MM-dd hh:mm\"\n\t\t\t\t\t\t\t\t:threshold=\"[0, 0]\" />\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</template>\r\n\t\t\t\t</uni-list-item>\r\n\t\t\t</uni-list>\r\n\t\t\t<uni-load-state @networkResume=\"refreshData\" :state=\"{data,pagination,hasMore, loading, error}\"></uni-load-state>\r\n\t\t</unicloud-db>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tisLoading: true,\r\n\t\t\t\tloadMore: {\r\n\t\t\t\t\tcontentdown: '',\r\n\t\t\t\t\tcontentrefresh: '',\r\n\t\t\t\t\tcontentnomore: '',\r\n\t\t\t\t},\n\t\t\t\treadNewsLog:[],\n\t\t\t\tudbWhere:''\r\n\t\t\t}\r\n\t\t},\n\t\tonLoad() {\n\t\t\tthis.readNewsLog = uni.getStorageSync('readNewsLog')||[];\n\t\t\tlet readNewsLogIds = this.readNewsLog.map(({article_id})=>article_id)\n\t\t\tconsole.log(typeof readNewsLogIds,readNewsLogIds);\n\t\t\tthis.udbWhere = `\"_id\" in ${JSON.stringify(readNewsLogIds)}`\r\n\t\t\tuni.setNavigationBarTitle({\r\n\t\t\t\ttitle: this.$t('newsLog.navigationBarTitle')\r\n\t\t\t})\n\t\t},\r\n\t\tonPullDownRefresh() {\r\n\t\t\tthis.refreshData();\r\n\t\t},\r\n\t\tonReachBottom() {\r\n\t\t\tthis.$refs.udb.loadMore()\r\n\t\t},\r\n\t\tmethods: {\n\t\t\trefreshData() {\n\t\t\t\tthis.$refs.udb.loadData({\n\t\t\t\t\tclear: true\n\t\t\t\t}, (res) => {\n\t\t\t\t\tuni.stopPullDownRefresh()\n\t\t\t\t})\n\t\t\t},\r\n\t\t\thandleItemClick(item) {\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '/pages/list/detail?id=' + item._id + '&title=' + item.title\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\n\t.item{\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t}\r\n\t.article-date {\r\n\t\tcolor: #C8C7CC;\r\n\t}\r\n</style>\n","import MiniProgramPage from 'C:/Users/93152/Desktop/转转转/DDDC/pages/ucenter/read-news-log/read-news-log.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni"],"mappings":";;AAuBC,MAAK,YAAU;AAAA,EACd,OAAO;AACN,WAAO;AAAA,MACN,WAAW;AAAA,MACX,UAAU;AAAA,QACT,aAAa;AAAA,QACb,gBAAgB;AAAA,QAChB,eAAe;AAAA,MACf;AAAA,MACD,aAAY,CAAE;AAAA,MACd,UAAS;AAAA,IACV;AAAA,EACA;AAAA,EACD,SAAS;AACR,SAAK,cAAcA,cAAG,MAAC,eAAe,aAAa,KAAG,CAAA;AACtD,QAAI,iBAAiB,KAAK,YAAY,IAAI,CAAC,EAAC,WAAU,MAAI,UAAU;AACpEA,kBAAA,MAAA,MAAA,OAAA,uDAAY,OAAO,gBAAe,cAAc;AAChD,SAAK,WAAW,YAAY,KAAK,UAAU,cAAc,CAAC;AAC1DA,kBAAAA,MAAI,sBAAsB;AAAA,MACzB,OAAO,KAAK,GAAG,4BAA4B;AAAA,KAC3C;AAAA,EACD;AAAA,EACD,oBAAoB;AACnB,SAAK,YAAW;AAAA,EAChB;AAAA,EACD,gBAAgB;AACf,SAAK,MAAM,IAAI,SAAS;AAAA,EACxB;AAAA,EACD,SAAS;AAAA,IACR,cAAc;AACb,WAAK,MAAM,IAAI,SAAS;AAAA,QACvB,OAAO;AAAA,MACP,GAAE,CAAC,QAAQ;AACXA,sBAAAA,MAAI,oBAAoB;AAAA,OACxB;AAAA,IACD;AAAA,IACD,gBAAgB,MAAM;AACrBA,oBAAAA,MAAI,WAAW;AAAA,QACd,KAAK,2BAA2B,KAAK,MAAM,YAAY,KAAK;AAAA,OAC5D;AAAA,IACF;AAAA,EACD;AACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChED,GAAG,WAAW,eAAe;"}